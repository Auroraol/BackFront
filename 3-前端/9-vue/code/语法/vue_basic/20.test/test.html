<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table {
            border: 1px solid #afaf3a;
            border-collapse: collapse;
        }

        th,
        td {
            padding: 8px 16px;
            border: 1px solid #e9e9e9;
        }

        th {
            background: #f7f7f7;
        }
    </style>
</head>

<body>
    <div id="cart">
        <template v-if="cartList.length">
            <table>
                <thead>
                    <tr>
                        <th></th>
                        <th>商品名称</th>
                        <th>商品单价</th>
                        <th>购买数量</th>
                        <th>操作</th>
                        </tn>
                <tbody>
                    <tr v-for="(item,index) in cartList">
                        <td>{{index + 1}}</td>
                        <td>{{item.gname }}</td>
                        <td>{{item.gprice }}</td>
                        <td>
                            <button @click="reduce(index)" :disabled="item.count === 1">-</button>
                            {{item.count}}
                            <button @click="add(index)">+</button>
                        </td>
                        <td>
                            <button @click="remove(index)">删除</button>
                        </td>
                    </tr>
                </tbody>
                </thead>
            </table>
            <div>总价：￥{{totalPrice}} <button@click="removeAl1">清空购物车</button></div>
        </template>
        <div v-else>购物车为空
        </div>
    </div>
    <script type="text/javascript" src="../js/vue.js"></script>
    <script src="cart.js"></script>
</body>
</html>
<!-- <script>
    new Vue({
        el: "#cart",
        data() {
            return {
                cartList: [
                    {
                        id: 1,
                        gname: "高麟--Spring Boot.从入门到实战",
                        gprice: 79.8,
                        count: 5,
                    },
                    {
                        id: 2,
                        gname: "Java Webi开发从入门到实战",
                        gprice: 69.8,
                        count: 10,
                    },
                    {
                        id: 3,
                        gname: "门ava EE框架整合开发入门到实战",
                        gprice: 69.8,
                        count: 100,
                    },
                ],
            };
        },
        computed: {
            totalPrice() {
                var total = 0;
                for (var i = 0; i < this.cartList.length; i++) {
                    var item = this.cartList[i];
                    total = total + item.gprice * item.count;
                }
                return total;
            },
        },
        methods: {
            reduce(index) {
                if (this.cartList[index].count == 1) return;
                this.cartList[index].count--;
            },
            add(index) {
                this.cartList[index].count++;
            },
            remove(index) {
                this.cartList.splice(index, 1);
            },
            removeAl1() {
                this.cartList.splice(0, this.cartList.length);
            },
        },
    });
</script> -->

