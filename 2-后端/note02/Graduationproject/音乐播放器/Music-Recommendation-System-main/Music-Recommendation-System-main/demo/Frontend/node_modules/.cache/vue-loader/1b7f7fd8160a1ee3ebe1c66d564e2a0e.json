{"remainingRequest":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\node_modules\\vue-loader-v16\\dist\\index.js??ref--0-1!D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\src\\views\\Discover2.vue?vue&type=style&index=0&id=6b5b1fc2&scoped=true&lang=css","dependencies":[{"path":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\src\\views\\Discover2.vue","mtime":1656943114637},{"path":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\node_modules\\css-loader\\dist\\cjs.js","mtime":1656401498806},{"path":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1656401489636},{"path":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\node_modules\\postcss-loader\\src\\index.js","mtime":1656401492473},{"path":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656401500797},{"path":"D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1656401489459}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQojc29uZ3MtZGlzY292ZXIgew0KCXBvc2l0aW9uOiBhYnNvbHV0ZTsNCgl3aWR0aDogMTA2MHB4ICFpbXBvcnRhbnQ7DQoJcmlnaHQ6IDA7DQoJbGVmdDogMDsNCgltYXJnaW4tbGVmdDogYXV0bzsNCgltYXJnaW4tcmlnaHQ6IGF1dG87DQp9DQoNCi8qIOihqOagvOS4reS4jeWPr+aSreaUvueahOeahOemgeatoueCueWHu+agt+W8jyAqLw0KI3NvbmdzLWRpc2NvdmVyIC5mYWlsIHsNCgljb2xvcjogIzliOWI5YjsNCgljdXJzb3I6IG5vdC1hbGxvd2VkOw0KfQ0KLyog5Y+v5Lul5pKt5pS+5YiZ5LiN5YGa5Lu75L2V5L+u5pS5ICovDQojc29uZ3MtZGlzY292ZXIgLnN1Y2Mgew0KCS8qIHBvaW50ZXItZXZlbnRzOiBub25lOyAqLw0KCS8qIGNvbG9yOiAjOWI5YjliOw0KCWN1cnNvcjogbm90LWFsbG93ZWQ7ICovDQp9DQovKiDmlLbol4/mrYzmm7Lmv4DmtLvnirbmgIEgKi8NCiNzb25ncy1kaXNjb3ZlciAuYWN0aXZlIHsNCgljb2xvcjogI2Y1NmM2YzsNCn0NCg0KLyog5pKt5pS+55qE5a2X5L2T5Zu+5qCH6byg5qCH6KaG55uW5Y+Y6ImyICovDQojc29uZ3MtZGlzY292ZXIgaS5pY29uZm9udC5pY29uLWJvZmFuZzpob3ZlciB7DQoJY3Vyc29yOiBwb2ludGVyOw0KCS8qIGNvbG9yOiByZ2IoMjMxLCA1NiwgNDApOyAqLw0KCWNvbG9yOiAjZjU2YzZjOw0KfQ0KDQovKiDmlLbol4/nmoTlrZfkvZPlm77moIfpvKDmoIfopobnm5blj5joibIgKi8NCiNzb25ncy1kaXNjb3ZlciBpLmljb25mb250Lmljb24tc2hvdWNhbmdfaHVhYmFuMTpob3ZlciB7DQoJY3Vyc29yOiBwb2ludGVyOw0KfQ0K"},{"version":3,"sources":["D:\\备份\\大型程序设计实践\\music_recommendation-main\\前端与后端代码\\前端\\src\\views\\Discover2.vue"],"names":[],"mappings":"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","file":"D:/备份/大型程序设计实践/music_recommendation-main/前端与后端代码/前端/src/views/Discover2.vue","sourceRoot":"","sourcesContent":["<template>\r\n\t<div id=\"songs-discover\">\r\n\t\t<el-table\r\n\t\t\t:data=\"songsData\"\r\n\t\t\tstripe\r\n\t\t\tstyle=\"width: 100%;\"\r\n\t\t\t:header-cell-style=\"{ fontWeight: 'normal', border: 'none' }\"\r\n\t\t>\r\n\t\t\t<el-table-column align=\"center\" prop=\"index\" label=\"\" width=\"120\">\r\n\t\t\t\t<template #default=\"scope\">\r\n\t\t\t\t\t<div :class=\"scope.row.downUrl == 'None' ? 'fail' : 'succ'\">\r\n\t\t\t\t\t\t<sapn\r\n\t\t\t\t\t\t\tstyle=\"font-size:16px;width:20px;display:inline-block;\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{{ scope.$index + 1 }}\r\n\t\t\t\t\t\t</sapn>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclass=\"iconfont icon-bofang\"\r\n\t\t\t\t\t\t\tstyle=\"margin-left:10px;font-size:18px;width:15px;display:inline-block;\"\r\n\t\t\t\t\t\t\t@click=\"startPlay(scope.$index)\"\r\n\t\t\t\t\t\t\t:class=\"\r\n\t\t\t\t\t\t\t\tscope.row.downUrl == 'None' ? 'fail' : 'succ'\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclass=\"iconfont icon-shoucang_huaban1\"\r\n\t\t\t\t\t\t\tstyle=\"margin-left:10px;font-size:18px;width:15px;display:inline-block;\"\r\n\t\t\t\t\t\t\t@click=\"addLove(scope.$index)\"\r\n\t\t\t\t\t\t\t:class=\"[\r\n\t\t\t\t\t\t\t\tscope.row.downUrl == 'None' ? 'fail' : 'succ',\r\n\t\t\t\t\t\t\t\tscope.row.isLove === true ? 'active' : '',\r\n\t\t\t\t\t\t\t]\"\r\n\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\tclass=\"el-icon-s-comment\"\r\n\t\t\t\t\t\t\tstyle=\"margin-left:10px;font-size:18px;width:15px;display:inline-block;\"\r\n\t\t\t\t\t\t\t@click=\"getComment(scope.$index)\"\r\n\t\t\t\t\t\t\t:class=\"\r\n\t\t\t\t\t\t\t\tscope.row.downUrl == 'None' ? 'fail' : 'succ'\r\n\t\t\t\t\t\t\t\"\r\n\t\t\t\t\t\t></i>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\talign=\"center\"\r\n\t\t\t\tprop=\"songName\"\r\n\t\t\t\tlabel=\"歌曲名\"\r\n\t\t\t\twidth=\"220\"\r\n\t\t\t>\r\n\t\t\t\t<template #default=\"scope\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\t:class=\"scope.row.downUrl == 'None' ? 'fail' : 'succ'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ scope.row.songName }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\talign=\"center\"\r\n\t\t\t\tprop=\"singerName\"\r\n\t\t\t\tlabel=\"歌手\"\r\n\t\t\t\twidth=\"220\"\r\n\t\t\t>\r\n\t\t\t\t<template #default=\"scope\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\t:class=\"scope.row.downUrl == 'None' ? 'fail' : 'succ'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ scope.row.singerName }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\talign=\"center\"\r\n\t\t\t\tprop=\"album\"\r\n\t\t\t\tlabel=\"专辑\"\r\n\t\t\t\twidth=\"300\"\r\n\t\t\t>\r\n\t\t\t\t<template #default=\"scope\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\t:class=\"scope.row.downUrl == 'None' ? 'fail' : 'succ'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ scope.row.album }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t\t<el-table-column\r\n\t\t\t\talign=\"center\"\r\n\t\t\t\tprop=\"songTime\"\r\n\t\t\t\tlabel=\"时长\"\r\n\t\t\t\twidth=\"200\"\r\n\t\t\t>\r\n\t\t\t\t<template #default=\"scope\">\r\n\t\t\t\t\t<span\r\n\t\t\t\t\t\t:class=\"scope.row.downUrl == 'None' ? 'fail' : 'succ'\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{{ scope.row.songTime }}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</template>\r\n\t\t\t</el-table-column>\r\n\t\t</el-table>\r\n\t\t<!-- 分页 -->\r\n\t\t<el-pagination\r\n\t\t\tbackground\r\n\t\t\tlayout=\"prev, pager, next\"\r\n\t\t\t:total=\"totalNum\"\r\n\t\t\t:current-page=\"currentPage\"\r\n\t\t\tstyle=\"padding-top:30px;\"\r\n\t\t\t@current-change=\"handleCurrentChange\"\r\n\t\t></el-pagination>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport { useStore } from \"vuex\"\r\nimport {\r\n\tgetDiscoverSongs,\r\n} from \"../network/request.js\"\r\nexport default {\r\n    name: \"discover2\",\r\n\tdata() {\r\n\t\tconst item = {\r\n\t\t\tiid: \"\",\r\n\t\t\tsongName: \"\",\r\n\t\t\tsingerName: \"\",\r\n\t\t\talbum: \"\",\r\n\t\t\tsongTime: \"\",\r\n\t\t\tdownUrl: \"\",\r\n\t\t\tpicUrl: \"\",\r\n\t\t\t// 是否收藏默认为false，不收藏\r\n\t\t\tisLove: false,\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tuid: \"\",\r\n\t\t\tdownUrl: \"\",\r\n\t\t\tcurrentPage: 1,\r\n\t\t\tpageSize: 10,\r\n\t\t\tsongsData: Array(10).fill(item),\r\n\t\t\ttotalNum: 1000,\r\n\t\t}\r\n\t},\r\n\tcreated() {\r\n\t\t// 获得用户id\r\n\t\tthis.uid = useStore().state.user.uid\r\n\t\tconsole.log(\"用户id：\" + this.uid)\r\n\t\tconsole.log(this.currentPage)\r\n\t\t// 得到歌曲的详情信息\r\n\t\tgetDiscoverSongs({ currentPage: \"1\" }).then((response) => {\r\n\t\t\tthis.songsData = response.data.data\r\n\t\t\tconsole.log(this.songsData)\r\n\t\t})\r\n        // 页面加载时读取数据\r\n\t\tif (window.sessionStorage.getItem(\"user\")) {\r\n\t\t\tconsole.log(\"页面加载\")\r\n            const session_user = JSON.parse(window.sessionStorage.getItem(\"user\"))\r\n\t\t\tconsole.log(session_user)\r\n\t\t\tthis.$store.commit(\"SET_USER\", session_user)\r\n\t\t}\r\n\t\t// 页面刷新时保存状态\r\n\t\twindow.addEventListener(\"beforeunload\", () => {\r\n\t\t\tconsole.log(\"页面刷新\")\r\n\t\t\tconsole.log(this.$store.state.user)\r\n\t\t\twindow.sessionStorage.setItem(\r\n\t\t\t\t\"user\",\r\n\t\t\t\tJSON.stringify(this.$store.state.user),\r\n\t\t\t)\r\n\t\t})\r\n\t},\r\n\tmethods: {\r\n\t\tgetComment(){\r\n\t\t\tthis.$message({\r\n\t\t\t\ttype: \"info\",\r\n\t\t\t\tmessage: \"请先登录或注册一个账号\",\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetDiscoverSongsData() {\r\n\t\t\tgetDiscoverSongs({ currentPage: this.currentPage + \"\" }).then(\r\n\t\t\t\t(response) => {\r\n\t\t\t\t\tthis.songsData = response.data.data\r\n\t\t\t\t\tconsole.log(this.songsData)\r\n\t\t\t\t},\r\n\t\t\t)\r\n\t\t},\r\n\t\tstartPlay(index) {\r\n\t\t\tconsole.log(index)\r\n\t\t\tvar song = this.songsData[parseInt(index)]\r\n\t\t\tconsole.log(song)\r\n\t\t\tthis.downUrl = song.downUrl\r\n\t\t\tconsole.log(this.downUrl)\r\n\t\t\tconsole.log(song.picUrl)\r\n\t\t\tvar iid = song.iid\r\n\t\t\tvar picUrl = song.picUrl\r\n\t\t\tvar songName = song.songName\r\n\t\t\tvar singerName = song.singerName\r\n\t\t\tvar mp3Url = this.downUrl\r\n\t\t\t// 将事件传递给子组件，第一个参数为自定义事件名，后续参数为传递过去的数据\r\n\t\t\tconsole.log(\"开始emit\")\r\n\t\t\tthis.$emit(\"playmusic\", iid, mp3Url, picUrl, songName, singerName)\r\n\t\t\tconsole.log(\"结束emit\")\r\n\t\t},\r\n\t\t// 下一页\r\n\t\thandleCurrentChange(val) {\r\n\t\t\t// 得到歌曲的详情信息\r\n\t\t\tgetDiscoverSongs({ currentPage: val }).then((response) => {\r\n\t\t\t\tthis.songsData = response.data.data\r\n\t\t\t\tconsole.log(this.songsData)\r\n\t\t\t})\r\n\t\t},\r\n\t\t// 添加或取消收藏歌曲\r\n\t\taddLove() {\r\n\t\t\t// 判断是否为游客\r\n\t\t\tif(this.uid == \"0\"){\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\ttype: \"info\",\r\n\t\t\t\t\tmessage: \"请先登录或注册一个账号\",\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style scoped>\r\n#songs-discover {\r\n\tposition: absolute;\r\n\twidth: 1060px !important;\r\n\tright: 0;\r\n\tleft: 0;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n}\r\n\r\n/* 表格中不可播放的的禁止点击样式 */\r\n#songs-discover .fail {\r\n\tcolor: #9b9b9b;\r\n\tcursor: not-allowed;\r\n}\r\n/* 可以播放则不做任何修改 */\r\n#songs-discover .succ {\r\n\t/* pointer-events: none; */\r\n\t/* color: #9b9b9b;\r\n\tcursor: not-allowed; */\r\n}\r\n/* 收藏歌曲激活状态 */\r\n#songs-discover .active {\r\n\tcolor: #f56c6c;\r\n}\r\n\r\n/* 播放的字体图标鼠标覆盖变色 */\r\n#songs-discover i.iconfont.icon-bofang:hover {\r\n\tcursor: pointer;\r\n\t/* color: rgb(231, 56, 40); */\r\n\tcolor: #f56c6c;\r\n}\r\n\r\n/* 收藏的字体图标鼠标覆盖变色 */\r\n#songs-discover i.iconfont.icon-shoucang_huaban1:hover {\r\n\tcursor: pointer;\r\n}\r\n</style>\r\n"]}]}